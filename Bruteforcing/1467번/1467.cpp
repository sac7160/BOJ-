#include <iostream>
#include <string>

using namespace std;

int figure[19][4][2] = {
    {{0,0}, {0,1}, {1,0}, {1,1}},
    {{0,0}, {0,1}, {0,2}, {0,3}},
    {{0,0}, {1,0}, {2,0}, {3,0}},
    {{1,0}, {1,1}, {1,2}, {0,2}},
    {{0,0}, {1,0}, {2,0},{2,1}},
    {{0,0}, {1,0}, {0,1}, {0,2}},
    {{0,0}, {0,1}, {1,1}, {2,1}},
    {{1,0}, {1,1}, {0,1}, {0,2}},
    {{0,0}, {1,0}, {1,1}, {2,1}},
    {{1,0}, {0,1}, {1,1}, {1,2}},
    {{0,0}, {1,0}, {2,0}, {1,1}},
    {{0,0}, {0,1}, {0,2}, {1,1}},
    {{1,0}, {0,1}, {1,1}, {2,1}},
    {{0,0}, {0,1}, {1,1}, {1,2}},
    {{1,0}, {2,0}, {0,1}, {1,1}},
    {{0,0}, {1,0}, {1,1}, {1,2}},
    {{0,0}, {0,1}, {1,0}, {2,0}},
    {{0,0}, {0,1}, {0,2}, {1,2}},
    {{0,1}, {1,1}, {2,1}, {2,0}},
};

int main()
{
    int n,m;
    cin >> n >> m;
    
    int paper[501][501];
    for(int i=0; i<=500; i++)
        for(int j=0; j<=500; j++) paper[i][j] = 0;
    
    for(int i=0; i<n; i++)
    {
        for(int j=0; j<m; j++)
        {
            cin >> paper[i][j];
        }
    }
    
    int ans=0,sum;

    for(int i=0; i<n; i++)
    {
        for(int j=0; j<m; j++)
        {
            for(int x =0; x<19; x++)
            {
                sum = 0;
                for(int z=0; z<4; z++)
                {
                    int pos_x = i+figure[x][z][0];  //í–‰
                    int pos_y = j+figure[x][z][1];  //ì—´
                    if(pos_x<0 || pos_x>=n || pos_y<0 || pos_y>=m) break;
                    else{
                        sum+= paper[pos_x][pos_y];
                    }
                    if(sum > ans) ans = sum;
                }
            }
        }
    }
    cout << ans;
}
